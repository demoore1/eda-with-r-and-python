
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>02: Data Cleaning &#8212; Exploratory Data Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '02_data_cleaning_R';</script>
    <link rel="icon" href="_static/IDA-Logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="03: Summary Statistics" href="03_summary_statistics_Python.html" />
    <link rel="prev" title="02: Data Cleaning" href="02_data_cleaning_Python.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/IDA-Logo.png" class="logo__image only-light" alt="Exploratory Data Analysis - Home"/>
    <script>document.write(`<img src="_static/IDA-Logo.png" class="logo__image only-dark" alt="Exploratory Data Analysis - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Exploratory Data Analysis
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="02_data_cleaning_Python.html">02: Data Cleaning</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">02: Data Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_summary_statistics_Python.html">03: Summary Statistics</a></li>

<li class="toctree-l1"><a class="reference internal" href="03_summary_statistics_R.html">03: Summary Statistics</a></li>

<li class="toctree-l1"><a class="reference internal" href="04_visualizations_Python.html">04: Visualizations</a></li>

<li class="toctree-l1"><a class="reference internal" href="04_visualizations_R.html">04: Visualizations</a></li>

<li class="toctree-l1"><a class="reference internal" href="06_next_steps.html">You’ve Finished Exploratory Data Analysis!</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/demoore1/eda-with-r-and-python/main?urlpath=lab/tree/course-book/02_data_cleaning_R.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/demoore1/eda-with-r-and-python" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/demoore1/eda-with-r-and-python/issues/new?title=Issue%20on%20page%20%2F02_data_cleaning_R.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/02_data_cleaning_R.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>02: Data Cleaning</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r">R</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-the-tidyverse-package">Loading the tidyverse Package</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#its-ok-to-see-warning-messages">It’s OK to See Warning Messages</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#now-once-you-run-library-tidyverse-you-can">Now, once you run library(tidyverse), you can:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identify-quantify-missing-data">2.1 Identify &amp; Quantify Missing Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-dataset-size-and-missing-data">Checking Dataset Size and Missing Data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#what-str-df-shows-you">What <code class="docutils literal notranslate"><span class="pre">str(df)</span></code> Shows You</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#handle-missing-values">2.2 Handle Missing Values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#counting-missing-values">Counting Missing Values</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#options-for-handling-missing-values">Options for Handling Missing Values</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#middlename-17-942-missing-values">MiddleName: 17,942 missing values</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#scoretext-45-missing-values">ScoreText: 45 missing values</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#age-56-missing-values">Age: 56 missing values</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-drop-mostly-empty-columns">Step 1: Drop Mostly Empty Columns</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-remove-rows-with-blank-scoretext-and-fill-missing-age">Step 2: Remove Rows with Blank <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code> and Fill Missing <code class="docutils literal notranslate"><span class="pre">Age</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#now-we-have">Now we have:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate-correct-data-types">2.3 Validate &amp; Correct Data Types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-4-find-and-remove-extreme-values-outliers-in-rawscore">Step 2.4: Find and Remove Extreme Values (Outliers) in <code class="docutils literal notranslate"><span class="pre">RawScore</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-5-standardize-normalize-key-variables">Step 2.5: Standardize &amp; Normalize Key Variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interpreting-our-transformed-data">Interpreting Our Transformed Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-each-column-is">What each column is</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-we-do-this">Why we do this</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-6-record-your-cleaning-steps">Step 2.6: Record Your Cleaning Steps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps-continue-in-r-or-switch-to-python">Next Steps: Continue in R or Switch to Python</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-cleaning">
<h1>02: Data Cleaning<a class="headerlink" href="#data-cleaning" title="Link to this heading">#</a></h1>
<p><strong>Objective:</strong> Identify and handle missing or invalid values, detect outliers, and standardize data for our recidivism dataset.</p>
<p><strong>Key Steps:</strong></p>
<table width="100%">
  <tr>
    <td style="vertical-align: top; text-align: left; width: 60%; padding-right: 20px;">
      <ol style="font-size: 20px; line-height: 1.4;">
        <li>Identify &amp; quantify missing data</li>
        <li>Handle missing values (imputation, removal, flagging)</li>
        <li>Validate &amp; correct data types</li>
        <li>Detect &amp; treat outliers</li>
        <li>Standardize &amp; normalize</li>
        <li>Document transformations</li>
      </ol>
    </td>
    <td style="vertical-align: top; text-align: left; width: 40%;">
      <!-- relative path to cleaning.png -->
      <img src="../slides/cleaning.png" alt="Data Cleaning Image" width="1000" />
    </td>
  </tr>
</table>
<hr class="docutils" />
<audio controls src="../audio/Cleaning.m4a"><p>Now that we’ve laid out our data‑cleaning roadmap, let’s put it into practice with a real dataset. For the rest of this lesson, we’ll work with the <strong>COMPAS recidivism data</strong> (<code class="docutils literal notranslate"><span class="pre">compas‑scores‑raw.csv</span></code>), which contains demographic and risk‑assessment scores for individuals screened by the COMPAS tool.</p>
<p>We’ll start by running through each cleaning step in <strong>R</strong>, then you are encouraged to repeat the same process in <strong>Python</strong> so you can see both workflows side by side.</p>
<section id="r">
<h2>R<a class="headerlink" href="#r" title="Link to this heading">#</a></h2>
<p>Since this is your first time, you’ll need to download all of the little helper programs (called “packages”) we’ll use—just run one simple command to get them all at once:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># only run this block your first time doing this training.</span>


<span class="n">pkgs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">scan</span><span class="p">(</span><span class="s">&quot;../requirements_R.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<span class="nf">install.packages</span><span class="p">(</span>
<span class="w">  </span><span class="n">pkgs</span><span class="p">,</span>
<span class="w">  </span><span class="n">repos</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;https://cloud.r-project.org&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing packages into &#39;C:/Users/demoore/AppData/Local/R/win-library/4.4&#39;
(as &#39;lib&#39; is unspecified)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;dependency &#39;RDCOMClient&#39; is not available&quot;
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>package &#39;tidyverse&#39; successfully unpacked and MD5 sums checked
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>package &#39;lubridate&#39; successfully unpacked and MD5 sums checked
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>package &#39;DescTools&#39; successfully unpacked and MD5 sums checked
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>package &#39;corrplot&#39; successfully unpacked and MD5 sums checked
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The downloaded binary packages are in
	C:\Users\demoore\AppData\Local\Temp\Rtmp25IsZp\downloaded_packages
</pre></div>
</div>
</div>
</div>
<section id="loading-the-tidyverse-package">
<h3>Loading the tidyverse Package<a class="headerlink" href="#loading-the-tidyverse-package" title="Link to this heading">#</a></h3>
<p>Before we can start working with our data in R, we need to load a set of helpful tools called the <strong>tidyverse</strong>. The tidyverse gives us simple, consistent commands for:</p>
<ul class="simple">
<li><p><strong>Reading</strong> data files (for example, Excel or CSV tables)</p></li>
<li><p><strong>Filtering</strong> and <strong>arranging</strong> rows of data</p></li>
<li><p><strong>Summarizing</strong> and <strong>grouping</strong> information</p></li>
<li><p><strong>Creating</strong> basic charts and graphs</p></li>
</ul>
<p>Even if you’ve never done any data work before, this one line will make all of those functions available:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;tidyverse&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;ggplot2&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;tibble&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;tidyr&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;readr&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;purrr&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;dplyr&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;stringr&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;forcats&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Warning message:
&quot;package &#39;lubridate&#39; was built under R version 4.4.3&quot;
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>── <span class=" -Color -Color-Bold">Attaching core tidyverse packages</span> ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── tidyverse 2.0.0 ──
<span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">dplyr    </span> 1.1.4     <span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">readr    </span> 2.1.5
<span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">forcats  </span> 1.0.0     <span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">stringr  </span> 1.5.1
<span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">ggplot2  </span> 3.5.1     <span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">tibble   </span> 3.2.1
<span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">lubridate</span> 1.9.4     <span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">tidyr    </span> 1.3.1
<span class=" -Color -Color-Green">✔</span> <span class=" -Color -Color-Blue">purrr    </span> 1.0.4     
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>── <span class=" -Color -Color-Bold">Conflicts</span> ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
<span class=" -Color -Color-Red">✖</span> <span class=" -Color -Color-Blue">dplyr</span>::<span class=" -Color -Color-Green">filter()</span> masks <span class=" -Color -Color-Blue">stats</span>::filter()
<span class=" -Color -Color-Red">✖</span> <span class=" -Color -Color-Blue">dplyr</span>::<span class=" -Color -Color-Green">lag()</span>    masks <span class=" -Color -Color-Blue">stats</span>::lag()
<span class=" -Color -Color-Cyan">ℹ</span> Use the conflicted package (<span class=" -Color -Color-Blue">&lt;http://conflicted.r-lib.org/&gt;</span>) to force all conflicts to become errors
</pre></div>
</div>
</div>
</div>
<section id="its-ok-to-see-warning-messages">
<h4>It’s OK to See Warning Messages<a class="headerlink" href="#its-ok-to-see-warning-messages" title="Link to this heading">#</a></h4>
<p>When you load a package in R, you might see warnings like:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">Warning</span><span class="w"> </span><span class="n">message</span><span class="o">:</span>
<span class="s">&quot;</span><span class="err">package &#39;tidyverse&#39; was built under R version 4.4.3</span>
</pre></div>
</div>
<p>These messages are harmless—they simply mean the package was compiled under a slightly different R release than the one you’re using. They do <strong>not</strong> indicate an error in your code or your analysis.</p>
<p>You can safely ignore these warnings and continue working:</p>
<ul class="simple">
<li><p>Your functions will still run as expected</p></li>
<li><p>Your data cleaning and analysis steps are unaffected</p></li>
</ul>
</section>
</section>
<section id="now-once-you-run-library-tidyverse-you-can">
<h3>Now, once you run library(tidyverse), you can:<a class="headerlink" href="#now-once-you-run-library-tidyverse-you-can" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">read_csv(&quot;myfile.csv&quot;)</span></code> to import your data</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">filter()</span></code> to narrow down the rows you care about</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">select()</span></code> to pick the columns you want to keep</p></li>
<li><p>And much more—all with clear, English‑like commands</p></li>
</ul>
</section>
<section id="identify-quantify-missing-data">
<h3>2.1 Identify &amp; Quantify Missing Data<a class="headerlink" href="#identify-quantify-missing-data" title="Link to this heading">#</a></h3>
<p>First, load the data and get a sense of where values are missing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the COMPAS scores data into R</span>
<span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">read_csv</span><span class="p">(</span><span class="s">&quot;../data/compas_scores_raw.csv&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">Rows: </span><span class=" -Color -Color-Blue">24272</span> <span class=" -Color -Color-Bold">Columns: </span><span class=" -Color -Color-Blue">24</span>
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">──</span> <span class=" -Color -Color-Bold">Column specification</span> <span class=" -Color -Color-Cyan">──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────</span>
<span class=" -Color -Color-Bold">Delimiter:</span> &quot;,&quot;
<span class=" -Color -Color-Red">chr</span> (15): Agency_Text, LastName, FirstName, MiddleName, Sex_Code_Text, Ethni...
<span class=" -Color -Color-Green">dbl</span>  (9): Person_ID, AssessmentID, Case_ID, ScaleSet_ID, RecSupervisionLevel...
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Cyan">ℹ</span> Use `spec()` to retrieve the full column specification for this data.
<span class=" -Color -Color-Cyan">ℹ</span> Specify the column types or set `show_col_types = FALSE` to quiet this message.
</pre></div>
</div>
</div>
</div>
<p>Finally, we call head(df) on the DataFrame to display the first few rows. This gives us a quick peek at the structure and contents of our dataset, including column names and sample values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">head</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 6 × 24</caption>
<thead>
	<tr><th scope=col>Person_ID</th><th scope=col>AssessmentID</th><th scope=col>Case_ID</th><th scope=col>Agency_Text</th><th scope=col>LastName</th><th scope=col>FirstName</th><th scope=col>MiddleName</th><th scope=col>Sex_Code_Text</th><th scope=col>Ethnic_Code_Text</th><th scope=col>ScaleSet_ID</th><th scope=col>⋯</th><th scope=col>MaritalStatus</th><th scope=col>RecSupervisionLevel</th><th scope=col>RecSupervisionLevelText</th><th scope=col>Scale_ID</th><th scope=col>DisplayText</th><th scope=col>RawScore</th><th scope=col>DecileScore</th><th scope=col>ScoreText</th><th scope=col>AssessmentType</th><th scope=col>Age</th></tr>
	<tr><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>⋯</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;chr&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>50844</td><td>57167</td><td>51950</td><td>PRETRIAL</td><td>Fisher  </td><td>Kevin    </td><td>NA    </td><td>Male  </td><td>Caucasian       </td><td>22</td><td>⋯</td><td>Single           </td><td>1</td><td>Low   </td><td>18</td><td>Risk of Failure to Appear</td><td>15.00</td><td>1</td><td>Low </td><td>New</td><td>20</td></tr>
	<tr><td>50848</td><td>57174</td><td>51956</td><td>PRETRIAL</td><td>KENDALL </td><td>KEVIN    </td><td>NA    </td><td>Male  </td><td>Caucasian       </td><td>22</td><td>⋯</td><td>Married          </td><td>1</td><td>Low   </td><td>18</td><td>Risk of Failure to Appear</td><td>19.00</td><td>3</td><td>Low </td><td>New</td><td>28</td></tr>
	<tr><td>50855</td><td>57181</td><td>51963</td><td>PRETRIAL</td><td>DAYES   </td><td>DANIEL   </td><td>NA    </td><td>Male  </td><td>African-American</td><td>22</td><td>⋯</td><td>Single           </td><td>4</td><td>High  </td><td> 8</td><td>Risk of Recidivism       </td><td> 0.18</td><td>8</td><td>High</td><td>New</td><td>18</td></tr>
	<tr><td>50855</td><td>57181</td><td>51963</td><td>PRETRIAL</td><td>DAYES   </td><td>DANIEL   </td><td>NA    </td><td>Male  </td><td>African-American</td><td>22</td><td>⋯</td><td>Single           </td><td>4</td><td>High  </td><td>18</td><td>Risk of Failure to Appear</td><td>13.00</td><td>1</td><td>Low </td><td>New</td><td>18</td></tr>
	<tr><td>50850</td><td>57176</td><td>51958</td><td>PRETRIAL</td><td>Debe    </td><td>Mikerlie </td><td>George</td><td>Female</td><td>African-American</td><td>22</td><td>⋯</td><td>Significant Other</td><td>2</td><td>Medium</td><td>18</td><td>Risk of Failure to Appear</td><td>11.00</td><td>1</td><td>Low </td><td>New</td><td>18</td></tr>
	<tr><td>50839</td><td>57162</td><td>51945</td><td>PRETRIAL</td><td>McLaurin</td><td>Stephanie</td><td>Nicole</td><td>Female</td><td>African-American</td><td>22</td><td>⋯</td><td>Single           </td><td>1</td><td>Low   </td><td>18</td><td>Risk of Failure to Appear</td><td>16.00</td><td>2</td><td>Low </td><td>New</td><td>27</td></tr>
</tbody>
</table>
</div></div>
</div>
<blockquote>
<div><p><strong>What to look for in the output:</strong></p>
<ul class="simple">
<li><p><strong>Column names</strong> such as <code class="docutils literal notranslate"><span class="pre">Person_ID</span></code>, <code class="docutils literal notranslate"><span class="pre">Case_ID</span></code>, <code class="docutils literal notranslate"><span class="pre">LastName</span></code>, <code class="docutils literal notranslate"><span class="pre">FirstName</span></code>, <code class="docutils literal notranslate"><span class="pre">MiddleName</span></code>, <code class="docutils literal notranslate"><span class="pre">Sex_Code_Text</span></code>, <code class="docutils literal notranslate"><span class="pre">Ethnic_Code_Text</span></code>, <code class="docutils literal notranslate"><span class="pre">RawScore</span></code>, <code class="docutils literal notranslate"><span class="pre">DecileScore</span></code>, <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code>, <code class="docutils literal notranslate"><span class="pre">Age</span></code></p></li>
<li><p><strong>Data types</strong> (numeric vs. categorical) and any surprising or missing values</p></li>
<li><p><strong>Structure</strong> of the dataset—how it’s organized before we begin cleaning and analysis</p></li>
</ul>
</div></blockquote>
<p>Now that we’ve successfully loaded the COMPAS dataset into our <code class="docutils literal notranslate"><span class="pre">df</span></code> object, it’s time to get a quick overview of its structure. In the next step, we’ll check how big the table is and see where any missing values might be hiding.</p>
<section id="checking-dataset-size-and-missing-data">
<h4>Checking Dataset Size and Missing Data<a class="headerlink" href="#checking-dataset-size-and-missing-data" title="Link to this heading">#</a></h4>
<p>In this step, we first look at the overall size of our dataset and then count any empty or missing values:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>spc_tbl_ [24,272 × 24] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Person_ID              : num [1:24272] 50844 50848 50855 50855 50850 ...
 $ AssessmentID           : num [1:24272] 57167 57174 57181 57181 57176 ...
 $ Case_ID                : num [1:24272] 51950 51956 51963 51963 51958 ...
 $ Agency_Text            : chr [1:24272] &quot;PRETRIAL&quot; &quot;PRETRIAL&quot; &quot;PRETRIAL&quot; &quot;PRETRIAL&quot; ...
 $ LastName               : chr [1:24272] &quot;Fisher&quot; &quot;KENDALL&quot; &quot;DAYES&quot; &quot;DAYES&quot; ...
 $ FirstName              : chr [1:24272] &quot;Kevin&quot; &quot;KEVIN&quot; &quot;DANIEL&quot; &quot;DANIEL&quot; ...
 $ MiddleName             : chr [1:24272] NA NA NA NA ...
 $ Sex_Code_Text          : chr [1:24272] &quot;Male&quot; &quot;Male&quot; &quot;Male&quot; &quot;Male&quot; ...
 $ Ethnic_Code_Text       : chr [1:24272] &quot;Caucasian&quot; &quot;Caucasian&quot; &quot;African-American&quot; &quot;African-American&quot; ...
 $ ScaleSet_ID            : num [1:24272] 22 22 22 22 22 22 22 22 22 22 ...
 $ ScaleSet               : chr [1:24272] &quot;Risk and Prescreen&quot; &quot;Risk and Prescreen&quot; &quot;Risk and Prescreen&quot; &quot;Risk and Prescreen&quot; ...
 $ Language               : chr [1:24272] &quot;English&quot; &quot;English&quot; &quot;English&quot; &quot;English&quot; ...
 $ LegalStatus            : chr [1:24272] &quot;Pretrial&quot; &quot;Pretrial&quot; &quot;Pretrial&quot; &quot;Pretrial&quot; ...
 $ CustodyStatus          : chr [1:24272] &quot;Jail Inmate&quot; &quot;Jail Inmate&quot; &quot;Jail Inmate&quot; &quot;Jail Inmate&quot; ...
 $ MaritalStatus          : chr [1:24272] &quot;Single&quot; &quot;Married&quot; &quot;Single&quot; &quot;Single&quot; ...
 $ RecSupervisionLevel    : num [1:24272] 1 1 4 4 2 1 3 3 1 3 ...
 $ RecSupervisionLevelText: chr [1:24272] &quot;Low&quot; &quot;Low&quot; &quot;High&quot; &quot;High&quot; ...
 $ Scale_ID               : num [1:24272] 18 18 8 18 18 18 8 18 18 8 ...
 $ DisplayText            : chr [1:24272] &quot;Risk of Failure to Appear&quot; &quot;Risk of Failure to Appear&quot; &quot;Risk of Recidivism&quot; &quot;Risk of Failure to Appear&quot; ...
 $ RawScore               : num [1:24272] 15 19 0.18 13 11 16 0.71 24 19 0.38 ...
 $ DecileScore            : num [1:24272] 1 3 8 1 1 2 10 6 3 9 ...
 $ ScoreText              : chr [1:24272] &quot;Low&quot; &quot;Low&quot; &quot;High&quot; &quot;Low&quot; ...
 $ AssessmentType         : chr [1:24272] &quot;New&quot; &quot;New&quot; &quot;New&quot; &quot;New&quot; ...
 $ Age                    : num [1:24272] 20 28 18 18 18 27 28 28 46 19 ...
 - attr(*, &quot;spec&quot;)=
  .. cols(
  ..   Person_ID = <span class=" -Color -Color-Green">col_double()</span>,
  ..   AssessmentID = <span class=" -Color -Color-Green">col_double()</span>,
  ..   Case_ID = <span class=" -Color -Color-Green">col_double()</span>,
  ..   Agency_Text = <span class=" -Color -Color-Red">col_character()</span>,
  ..   LastName = <span class=" -Color -Color-Red">col_character()</span>,
  ..   FirstName = <span class=" -Color -Color-Red">col_character()</span>,
  ..   MiddleName = <span class=" -Color -Color-Red">col_character()</span>,
  ..   Sex_Code_Text = <span class=" -Color -Color-Red">col_character()</span>,
  ..   Ethnic_Code_Text = <span class=" -Color -Color-Red">col_character()</span>,
  ..   ScaleSet_ID = <span class=" -Color -Color-Green">col_double()</span>,
  ..   ScaleSet = <span class=" -Color -Color-Red">col_character()</span>,
  ..   Language = <span class=" -Color -Color-Red">col_character()</span>,
  ..   LegalStatus = <span class=" -Color -Color-Red">col_character()</span>,
  ..   CustodyStatus = <span class=" -Color -Color-Red">col_character()</span>,
  ..   MaritalStatus = <span class=" -Color -Color-Red">col_character()</span>,
  ..   RecSupervisionLevel = <span class=" -Color -Color-Green">col_double()</span>,
  ..   RecSupervisionLevelText = <span class=" -Color -Color-Red">col_character()</span>,
  ..   Scale_ID = <span class=" -Color -Color-Green">col_double()</span>,
  ..   DisplayText = <span class=" -Color -Color-Red">col_character()</span>,
  ..   RawScore = <span class=" -Color -Color-Green">col_double()</span>,
  ..   DecileScore = <span class=" -Color -Color-Green">col_double()</span>,
  ..   ScoreText = <span class=" -Color -Color-Red">col_character()</span>,
  ..   AssessmentType = <span class=" -Color -Color-Red">col_character()</span>,
  ..   Age = <span class=" -Color -Color-Green">col_double()</span>
  .. )
 - attr(*, &quot;problems&quot;)=&lt;externalptr&gt; 
</pre></div>
</div>
</div>
</div>
</section>
<section id="what-str-df-shows-you">
<h4>What <code class="docutils literal notranslate"><span class="pre">str(df)</span></code> Shows You<a class="headerlink" href="#what-str-df-shows-you" title="Link to this heading">#</a></h4>
<ul>
<li><p><strong>Tibble [24,272 × 24]</strong><br />
Your data has <strong>24,272 rows</strong> (individual records) and <strong>24 columns</strong> (fields).</p></li>
<li><p><strong>Column lines</strong><br />
Each line looks like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ColumnName : type [1:24272] example values…
</pre></div>
</div>
<ul class="simple">
<li><p><strong>ColumnName</strong>: the name of the field (e.g. <code class="docutils literal notranslate"><span class="pre">Person_ID</span></code>)</p></li>
<li><p><strong>type</strong>: <code class="docutils literal notranslate"><span class="pre">num</span></code> means numbers, <code class="docutils literal notranslate"><span class="pre">chr</span></code> means text</p></li>
<li><p><strong>[1:24272]</strong>: shows values exist for every row</p></li>
<li><p><strong>example values…</strong>: the first few entries you’ll see</p></li>
</ul>
</li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">NA</span></code></strong> means a missing value (no data) in that spot.</p></li>
<li><p><strong>Why this matters</strong></p>
<ul class="simple">
<li><p>You immediately know how big your dataset is</p></li>
<li><p>You see which columns are numeric vs text</p></li>
<li><p>You get a quick look at the first few values and spot missing entries before analysis</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="handle-missing-values">
<h3>2.2 Handle Missing Values<a class="headerlink" href="#handle-missing-values" title="Link to this heading">#</a></h3>
<section id="counting-missing-values">
<h4>Counting Missing Values<a class="headerlink" href="#counting-missing-values" title="Link to this heading">#</a></h4>
<p>Let’s see which columns have missing data and how many blanks each contains:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Count missing values per column</span>
<span class="n">missing</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">colSums</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>

<span class="c1"># Show only columns that have any missing values</span>
<span class="nf">cat</span><span class="p">(</span><span class="s">&quot;Missing values per column:\n&quot;</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">missing</span><span class="p">[</span><span class="n">missing</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Missing values per column:
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MiddleName  ScoreText        Age 
     17942         45         56 
</pre></div>
</div>
</div>
</div>
</section>
<section id="options-for-handling-missing-values">
<h4>Options for Handling Missing Values<a class="headerlink" href="#options-for-handling-missing-values" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p><strong>Removal:</strong> drop rows or columns with too many nulls</p></li>
<li><p><strong>Imputation:</strong> fill with mean/median or a constant</p></li>
</ul>
<section id="middlename-17-942-missing-values">
<h5>MiddleName: 17,942 missing values<a class="headerlink" href="#middlename-17-942-missing-values" title="Link to this heading">#</a></h5>
<p>Most records don’t include a middle name—since this field isn’t critical to our analysis, we’ll drop the entire column.</p>
</section>
<section id="scoretext-45-missing-values">
<h5>ScoreText: 45 missing values<a class="headerlink" href="#scoretext-45-missing-values" title="Link to this heading">#</a></h5>
<p>A small number of records lack the textual risk label. We’ll remove any rows where <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code> is missing, since we need that label for downstream analyses.</p>
</section>
<section id="age-56-missing-values">
<h5>Age: 56 missing values<a class="headerlink" href="#age-56-missing-values" title="Link to this heading">#</a></h5>
<p>A handful of entries are missing age information. Since age is important for our analysis, we’ll impute these missing ages with the median age value.</p>
<p>By printing only <code class="docutils literal notranslate"><span class="pre">missing[missing</span> <span class="pre">&gt;</span> <span class="pre">0]</span></code>, we focus on the columns that actually have missing entries, allowing us to target our cleaning efforts precisely.</p>
<p>Below we’ll:</p>
<ol class="arabic simple">
<li><p>Drop columns with &gt;50% missing</p></li>
<li><p>Impute <code class="docutils literal notranslate"><span class="pre">Age</span></code> with the median</p></li>
</ol>
</section>
<section id="step-1-drop-mostly-empty-columns">
<h5>Step 1: Drop Mostly Empty Columns<a class="headerlink" href="#step-1-drop-mostly-empty-columns" title="Link to this heading">#</a></h5>
<p>Our dataset has a “MiddleName” column that’s almost entirely blank. To avoid clutter, we remove any column where more than half of its values are missing. This will automatically drop “MiddleName” and any other mostly empty fields.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate the minimum non-missing entries (50% of rows)</span>
<span class="n">threshold</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">nrow</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">0.5</span>

<span class="c1"># Keep only columns with at least &#39;threshold&#39; non-NA values</span>
<span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="p">[,</span><span class="w"> </span><span class="nf">colSums</span><span class="p">(</span><span class="o">!</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">threshold</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-remove-rows-with-blank-scoretext-and-fill-missing-age">
<h5>Step 2: Remove Rows with Blank <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code> and Fill Missing <code class="docutils literal notranslate"><span class="pre">Age</span></code><a class="headerlink" href="#step-2-remove-rows-with-blank-scoretext-and-fill-missing-age" title="Link to this heading">#</a></h5>
<p>First, we drop any rows where <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code> is blank, since those entries don’t tell us whether someone was classified as “Low,” “Medium,” or “High” risk. After that, we flag rows with missing <code class="docutils literal notranslate"><span class="pre">Age</span></code>, compute the median age, and fill those gaps.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Remove rows where ScoreText is blank</span>
<span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="nf">trimws</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">ScoreText</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">]</span>

<span class="c1"># 2. Flag rows where Age was missing</span>
<span class="n">df</span><span class="o">$</span><span class="n">age_missing</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="p">)</span>

<span class="c1"># 3. Compute median Age and fill missing values</span>
<span class="n">median_age</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">median</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="p">[</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="p">)]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">median_age</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="now-we-have">
<h5>Now we have:<a class="headerlink" href="#now-we-have" title="Link to this heading">#</a></h5>
<ul class="simple">
<li><p>Removed all rows lacking a valid risk category in <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code>.</p></li>
<li><p>Marked originally missing <code class="docutils literal notranslate"><span class="pre">Age</span></code> values in a new <code class="docutils literal notranslate"><span class="pre">age_missing</span></code> column.</p></li>
<li><p>Filled those missing ages with the dataset’s median age.</p></li>
</ul>
</section>
</section>
</section>
<section id="validate-correct-data-types">
<h3>2.3 Validate &amp; Correct Data Types<a class="headerlink" href="#validate-correct-data-types" title="Link to this heading">#</a></h3>
<p>Before we go further, let’s make sure each column uses the right data type:</p>
<ul class="simple">
<li><p>Numbers as integers or floats</p></li>
<li><p>Dates as datetime objects</p></li>
<li><p>Text fields we’ll analyze categorically as “category”</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Convert RawScore, DecileScore and Age to integers</span>
<span class="n">df</span><span class="o">$</span><span class="n">RawScore</span><span class="w">    </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">RawScore</span><span class="p">)</span>
<span class="n">df</span><span class="o">$</span><span class="n">DecileScore</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">DecileScore</span><span class="p">)</span>
<span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="w">         </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="p">)</span>

<span class="c1"># 2. Convert text fields to factors</span>
<span class="n">text_cols</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span>
<span class="w">  </span><span class="s">&quot;ScoreText&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Sex_Code_Text&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Ethnic_Code_Text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Language&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;MaritalStatus&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;RecSupervisionLevelText&quot;</span>
<span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="n">text_cols</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">lapply</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">text_cols</span><span class="p">],</span><span class="w"> </span><span class="n">factor</span><span class="p">)</span>

<span class="c1"># 4. Verify types</span>
<span class="nf">str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>tibble [24,272 × 24] (S3: tbl_df/tbl/data.frame)
 $ Person_ID              : num [1:24272] 50844 50848 50855 50855 50850 ...
 $ AssessmentID           : num [1:24272] 57167 57174 57181 57181 57176 ...
 $ Case_ID                : num [1:24272] 51950 51956 51963 51963 51958 ...
 $ Agency_Text            : chr [1:24272] &quot;PRETRIAL&quot; &quot;PRETRIAL&quot; &quot;PRETRIAL&quot; &quot;PRETRIAL&quot; ...
 $ LastName               : chr [1:24272] &quot;Fisher&quot; &quot;KENDALL&quot; &quot;DAYES&quot; &quot;DAYES&quot; ...
 $ FirstName              : chr [1:24272] &quot;Kevin&quot; &quot;KEVIN&quot; &quot;DANIEL&quot; &quot;DANIEL&quot; ...
 $ Sex_Code_Text          : Factor w/ 2 levels &quot;Female&quot;,&quot;Male&quot;: 2 2 2 2 1 1 2 2 1 2 ...
 $ Ethnic_Code_Text       : Factor w/ 9 levels &quot;African-Am&quot;,&quot;African-American&quot;,..: 5 5 2 2 2 2 6 6 5 2 ...
 $ ScaleSet_ID            : num [1:24272] 22 22 22 22 22 22 22 22 22 22 ...
 $ ScaleSet               : chr [1:24272] &quot;Risk and Prescreen&quot; &quot;Risk and Prescreen&quot; &quot;Risk and Prescreen&quot; &quot;Risk and Prescreen&quot; ...
 $ Language               : Factor w/ 2 levels &quot;English&quot;,&quot;Spanish&quot;: 1 1 1 1 1 1 1 1 1 1 ...
 $ LegalStatus            : chr [1:24272] &quot;Pretrial&quot; &quot;Pretrial&quot; &quot;Pretrial&quot; &quot;Pretrial&quot; ...
 $ CustodyStatus          : chr [1:24272] &quot;Jail Inmate&quot; &quot;Jail Inmate&quot; &quot;Jail Inmate&quot; &quot;Jail Inmate&quot; ...
 $ MaritalStatus          : Factor w/ 7 levels &quot;Divorced&quot;,&quot;Married&quot;,..: 5 2 5 5 4 5 5 5 5 5 ...
 $ RecSupervisionLevel    : num [1:24272] 1 1 4 4 2 1 3 3 1 3 ...
 $ RecSupervisionLevelText: Factor w/ 4 levels &quot;High&quot;,&quot;Low&quot;,&quot;Medium&quot;,..: 2 2 1 1 3 2 4 4 2 4 ...
 $ Scale_ID               : num [1:24272] 18 18 8 18 18 18 8 18 18 8 ...
 $ DisplayText            : chr [1:24272] &quot;Risk of Failure to Appear&quot; &quot;Risk of Failure to Appear&quot; &quot;Risk of Recidivism&quot; &quot;Risk of Failure to Appear&quot; ...
 $ RawScore               : int [1:24272] 15 19 0 13 11 16 0 24 19 0 ...
 $ DecileScore            : int [1:24272] 1 3 8 1 1 2 10 6 3 9 ...
 $ ScoreText              : Factor w/ 3 levels &quot;High&quot;,&quot;Low&quot;,&quot;Medium&quot;: 2 2 1 2 2 2 1 3 2 1 ...
 $ AssessmentType         : chr [1:24272] &quot;New&quot; &quot;New&quot; &quot;New&quot; &quot;New&quot; ...
 $ Age                    : int [1:24272] 20 28 18 18 18 27 28 28 46 19 ...
 $ age_missing            : logi [1:24272] FALSE FALSE FALSE FALSE FALSE FALSE ...
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p><strong>What we’ve done:</strong></p>
<ul class="simple">
<li><p>Forced <code class="docutils literal notranslate"><span class="pre">RawScore</span></code>, <code class="docutils literal notranslate"><span class="pre">DecileScore</span></code>, and <code class="docutils literal notranslate"><span class="pre">Age</span></code> into integer form</p></li>
<li><p>Marked risk categories and demographic fields as categorical</p></li>
<li><p>Verified the changes by once again inspecting the structure of the ‘df’ dataframe</p></li>
</ul>
</div></blockquote>
</section>
<section id="step-2-4-find-and-remove-extreme-values-outliers-in-rawscore">
<h3>Step 2.4: Find and Remove Extreme Values (Outliers) in <code class="docutils literal notranslate"><span class="pre">RawScore</span></code><a class="headerlink" href="#step-2-4-find-and-remove-extreme-values-outliers-in-rawscore" title="Link to this heading">#</a></h3>
<p>Even smart data can hide a few extreme values—called <strong>outliers</strong>—that skew our insights. We’ll clean those out by:</p>
<ol class="arabic simple">
<li><p><strong>Sorting</strong> all <code class="docutils literal notranslate"><span class="pre">RawScore</span></code> values and finding the 25th percentile (Q1) and 75th percentile (Q3).</p></li>
<li><p>Calculating the <strong>interquartile range (IQR)</strong> = Q3 − Q1, which covers the middle 50% of the data.</p></li>
<li><p>Defining an <strong>acceptable range</strong> as   [Q1 − 3×IQR, Q3 + 3×IQR]</p></li>
<li><p><strong>Keeping</strong> only rows with <code class="docutils literal notranslate"><span class="pre">RawScore</span></code> inside that range and dropping the rest.</p></li>
</ol>
<p>This preserves most of the data while removing the very highest or lowest scores that could mislead our analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Calculate Q1 (25th percentile) and Q3 (75th percentile) for RawScore</span>
<span class="n">Q1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">quantile</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">RawScore</span><span class="p">,</span><span class="w"> </span><span class="m">0.25</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">Q3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">quantile</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">RawScore</span><span class="p">,</span><span class="w"> </span><span class="m">0.75</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>

<span class="c1"># 2. Compute the IQR</span>
<span class="n">IQR_value</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Q3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Q1</span>

<span class="c1"># 3. Define acceptable lower and upper bounds</span>
<span class="n">lower_bound</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Q1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">IQR_value</span>
<span class="n">upper_bound</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">Q3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">IQR_value</span>

<span class="c1"># 4. Filter the data frame to keep only non-outliers</span>
<span class="n">df_clean</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">$</span><span class="n">RawScore</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">lower_bound</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">RawScore</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">upper_bound</span><span class="p">,</span><span class="w"> </span><span class="p">]</span>

<span class="c1"># 5. Report how many rows we kept versus removed</span>
<span class="nf">cat</span><span class="p">(</span><span class="s">&quot;Rows before cleaning: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">nrow</span><span class="p">(</span><span class="n">df</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<span class="nf">cat</span><span class="p">(</span><span class="s">&quot;Rows after removing outliers: &quot;</span><span class="p">,</span><span class="w"> </span><span class="nf">nrow</span><span class="p">(</span><span class="n">df_clean</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Rows before cleaning:  24272 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Rows after removing outliers:  24263 
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p><strong>In plain terms:</strong></p>
<ul class="simple">
<li><p>We measured how wide the middle 50% of scores is.</p></li>
<li><p>We dropped any scores more than three times that range away from the center.</p></li>
<li><p>Now <code class="docutils literal notranslate"><span class="pre">df_clean</span></code> has most of our original rows minus the extreme cases that could distort averages or trends.</p></li>
</ul>
</div></blockquote>
</section>
<section id="step-2-5-standardize-normalize-key-variables">
<h3>Step 2.5: Standardize &amp; Normalize Key Variables<a class="headerlink" href="#step-2-5-standardize-normalize-key-variables" title="Link to this heading">#</a></h3>
<p>Some analysis methods work best when numbers share a common scale. In R we can use:</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">scale()</span></code></strong> for z-score standardization</p></li>
<li><p>A simple formula for min-max scaling</p></li>
</ul>
<p>Here’s what we’ll do on our cleaned data frame <code class="docutils literal notranslate"><span class="pre">df_clean</span></code>:</p>
<ol class="arabic simple">
<li><p><strong>Z-score Standardization</strong> of <code class="docutils literal notranslate"><span class="pre">Age</span></code></p>
<ul class="simple">
<li><p>Subtract the mean age, then divide by the standard deviation</p></li>
<li><p>Creates a new column <code class="docutils literal notranslate"><span class="pre">age_z</span></code> where most values fall between –3 and +3</p></li>
</ul>
</li>
<li><p><strong>Min-Max Scaling</strong> of <code class="docutils literal notranslate"><span class="pre">RawScore</span></code></p>
<ul class="simple">
<li><p>Rescales values to lie between 0 (lowest score) and 1 (highest score)</p></li>
<li><p>Creates a new column <code class="docutils literal notranslate"><span class="pre">rawscore_scaled</span></code> that preserves relative differences</p></li>
</ul>
</li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Z-score standardization on Age</span>
<span class="n">df_clean</span><span class="o">$</span><span class="n">age_z</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="nf">scale</span><span class="p">(</span><span class="n">df_clean</span><span class="o">$</span><span class="n">Age</span><span class="p">))</span>

<span class="c1"># 2. Min-Max scaling on RawScore</span>
<span class="n">raw_min</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">df_clean</span><span class="o">$</span><span class="n">RawScore</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">raw_max</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">df_clean</span><span class="o">$</span><span class="n">RawScore</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span>
<span class="n">df_clean</span><span class="o">$</span><span class="n">rawscore_scaled</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="p">(</span><span class="n">df_clean</span><span class="o">$</span><span class="n">RawScore</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">raw_min</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">raw_max</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">raw_min</span><span class="p">)</span>

<span class="c1"># 3. Peek at the new columns</span>
<span class="nf">head</span><span class="p">(</span><span class="n">df_clean</span><span class="p">[,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;Age&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;age_z&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;RawScore&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;rawscore_scaled&quot;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="dataframe">
<caption>A tibble: 6 × 4</caption>
<thead>
	<tr><th scope=col>Age</th><th scope=col>age_z</th><th scope=col>RawScore</th><th scope=col>rawscore_scaled</th></tr>
	<tr><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th><th scope=col>&lt;int&gt;</th><th scope=col>&lt;dbl&gt;</th></tr>
</thead>
<tbody>
	<tr><td>20</td><td>-1.0581198</td><td>15</td><td>0.3333333</td></tr>
	<tr><td>28</td><td>-0.3877174</td><td>19</td><td>0.4222222</td></tr>
	<tr><td>18</td><td>-1.2257204</td><td> 0</td><td>0.0000000</td></tr>
	<tr><td>18</td><td>-1.2257204</td><td>13</td><td>0.2888889</td></tr>
	<tr><td>18</td><td>-1.2257204</td><td>11</td><td>0.2444444</td></tr>
	<tr><td>27</td><td>-0.4715177</td><td>16</td><td>0.3555556</td></tr>
</tbody>
</table>
</div></div>
</div>
</section>
</section>
<section id="interpreting-our-transformed-data">
<h2>Interpreting Our Transformed Data<a class="headerlink" href="#interpreting-our-transformed-data" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Age</p></th>
<th class="head"><p>age_z</p></th>
<th class="head"><p>RawScore</p></th>
<th class="head"><p>rawscore_scaled</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>20</p></td>
<td><p>-1.057784</p></td>
<td><p>15</p></td>
<td><p>0.3333</p></td>
</tr>
<tr class="row-odd"><td><p>28</p></td>
<td><p>-0.387237</p></td>
<td><p>19</p></td>
<td><p>0.4222</p></td>
</tr>
<tr class="row-even"><td><p>18</p></td>
<td><p>-1.225421</p></td>
<td><p>0</p></td>
<td><p>0.0000</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>-1.225421</p></td>
<td><p>13</p></td>
<td><p>0.2888</p></td>
</tr>
</tbody>
</table>
</div>
<section id="what-each-column-is">
<h3>What each column is<a class="headerlink" href="#what-each-column-is" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Age</strong><br />
The actual age in years</p></li>
<li><p><strong>age_z</strong><br />
A “z‑score” shows how far each age is from the average age, measured in standard units</p>
<ul>
<li><p>0 means exactly average</p></li>
<li><p>Negative means below average</p></li>
<li><p>Positive means above average</p></li>
<li><p>−-1.05778 means about -1.05778 units younger than average</p></li>
</ul>
</li>
<li><p><strong>RawScore</strong><br />
The original score before any changes (for example a test result or rating)</p></li>
<li><p><strong>rawscore_scaled</strong><br />
The RawScore rescaled to lie between 0 and 1</p>
<ul>
<li><p>0 is the lowest RawScore in our group</p></li>
<li><p>1 is the highest RawScore in our group</p></li>
<li><p>0.03 means very close to the lowest</p></li>
<li><p>0.29 means 29 percent of the way from lowest to highest</p></li>
</ul>
</li>
</ul>
</section>
<section id="why-we-do-this">
<h3>Why we do this<a class="headerlink" href="#why-we-do-this" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Fair comparison</strong><br />
When columns use very different units or ranges our analysis can get biased. Standardizing and scaling puts all numbers on the same footing.</p></li>
<li><p><strong>Better results</strong><br />
Many data tools and machine learning methods work best when inputs live on the same scale.</p></li>
<li><p><strong>Clear interpretation</strong></p>
<ul class="simple">
<li><p>Z‑scores tell us how far a value is from the average in comparable units</p></li>
<li><p>Scaled scores between 0 and 1 make it easy to see relative position without worrying about original units</p></li>
</ul>
</li>
</ol>
<hr class="docutils" />
<p>In plain terms, we’ve “translated” every number so they all speak the same language. That helps our next analysis steps work properly and gives you a fair way to compare apples to apples.</p>
</section>
<section id="step-2-6-record-your-cleaning-steps">
<h3>Step 2.6: Record Your Cleaning Steps<a class="headerlink" href="#step-2-6-record-your-cleaning-steps" title="Link to this heading">#</a></h3>
<p>Finally, it’s best practice to keep a log of every transformation. Below we build a simple dictionary summarizing what we did:</p>
<ul class="simple">
<li><p>Which columns we dropped because they were mostly empty</p></li>
<li><p>The median age we used for imputation</p></li>
<li><p>The bounds we used to remove outliers in <code class="docutils literal notranslate"><span class="pre">RawScore</span></code></p></li>
<li><p>Which columns we standardized and normalized</p></li>
</ul>
<p>At the end, we print this log in a clear, readable format.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Define each step and its details</span>
<span class="n">steps</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span>
<span class="w">  </span><span class="s">&quot;Dropped Columns&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Imputed Age&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Outlier Bounds (RawScore)&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Standardized&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;Normalized&quot;</span>
<span class="p">)</span>

<span class="n">details</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span>
<span class="w">  </span><span class="nf">names</span><span class="p">(</span><span class="n">missing</span><span class="p">[</span><span class="n">missing</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">threshold</span><span class="p">]),</span><span class="w">      </span><span class="c1"># columns dropped</span>
<span class="w">  </span><span class="n">median_age</span><span class="p">,</span><span class="w">                               </span><span class="c1"># age used for imputation</span>
<span class="w">  </span><span class="nf">c</span><span class="p">(</span><span class="n">lower_bound</span><span class="p">,</span><span class="w"> </span><span class="n">upper_bound</span><span class="p">),</span><span class="w">              </span><span class="c1"># outlier bounds</span>
<span class="w">  </span><span class="s">&quot;age_z&quot;</span><span class="p">,</span><span class="w">                                  </span><span class="c1"># standardized column</span>
<span class="w">  </span><span class="s">&quot;rawscore_scaled&quot;</span><span class="w">                         </span><span class="c1"># normalized column</span>
<span class="p">)</span>

<span class="c1"># 2. Assemble into a data frame with a list-column</span>
<span class="n">log_df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">data.frame</span><span class="p">(</span>
<span class="w">  </span><span class="n">Step</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">steps</span><span class="p">,</span>
<span class="w">  </span><span class="n">Details</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">I</span><span class="p">(</span><span class="n">details</span><span class="p">),</span>
<span class="w">  </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span>
<span class="p">)</span>

<span class="c1"># 3. Display the log</span>
<span class="nf">print</span><span class="p">(</span><span class="n">log_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>                       Step      Details
1           Dropped Columns   MiddleName
2               Imputed Age           29
3 Outlier Bounds (RawScore)      -11, 45
4              Standardized        age_z
5                Normalized rawscore....
</pre></div>
</div>
</div>
</div>
<p><strong>How to read this table:</strong></p>
<ul class="simple">
<li><p><strong>Step:</strong> what we did</p></li>
<li><p><strong>Details:</strong> the exact values or columns affected by that step</p></li>
</ul>
<blockquote>
<div><p><strong>Why this matters:</strong><br />
A clear transformation log makes your work reproducible and lets others (or future you) understand exactly how the data was prepared before any analysis or modeling.</p>
</div></blockquote>
</section>
</section>
<section id="next-steps-continue-in-r-or-switch-to-python">
<h2>Next Steps: Continue in R or Switch to Python<a class="headerlink" href="#next-steps-continue-in-r-or-switch-to-python" title="Link to this heading">#</a></h2>
<p>Our data is now clean and properly formatted. You have two options:</p>
<ol class="arabic simple">
<li><p><strong>Try the Python version</strong> of this cleaning workflow by opening <code class="docutils literal notranslate"><span class="pre">02_data_cleaning_Python.ipynb</span></code>.</p></li>
<li><p><strong>Move on to summary statistics in R</strong> by opening <code class="docutils literal notranslate"><span class="pre">03_summary_statistics_R.ipynb</span></code>.</p></li>
</ol>
<p>Choose the notebook that matches your preferred language, and let’s continue exploring our recidivism dataset!</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "r"
        },
        kernelOptions: {
            name: "ir",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ir'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="02_data_cleaning_Python.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">02: Data Cleaning</p>
      </div>
    </a>
    <a class="right-next"
       href="03_summary_statistics_Python.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">03: Summary Statistics</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#r">R</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-the-tidyverse-package">Loading the tidyverse Package</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#its-ok-to-see-warning-messages">It’s OK to See Warning Messages</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#now-once-you-run-library-tidyverse-you-can">Now, once you run library(tidyverse), you can:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identify-quantify-missing-data">2.1 Identify &amp; Quantify Missing Data</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#checking-dataset-size-and-missing-data">Checking Dataset Size and Missing Data</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#what-str-df-shows-you">What <code class="docutils literal notranslate"><span class="pre">str(df)</span></code> Shows You</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#handle-missing-values">2.2 Handle Missing Values</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#counting-missing-values">Counting Missing Values</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#options-for-handling-missing-values">Options for Handling Missing Values</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#middlename-17-942-missing-values">MiddleName: 17,942 missing values</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#scoretext-45-missing-values">ScoreText: 45 missing values</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#age-56-missing-values">Age: 56 missing values</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-drop-mostly-empty-columns">Step 1: Drop Mostly Empty Columns</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-remove-rows-with-blank-scoretext-and-fill-missing-age">Step 2: Remove Rows with Blank <code class="docutils literal notranslate"><span class="pre">ScoreText</span></code> and Fill Missing <code class="docutils literal notranslate"><span class="pre">Age</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#now-we-have">Now we have:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#validate-correct-data-types">2.3 Validate &amp; Correct Data Types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-4-find-and-remove-extreme-values-outliers-in-rawscore">Step 2.4: Find and Remove Extreme Values (Outliers) in <code class="docutils literal notranslate"><span class="pre">RawScore</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-5-standardize-normalize-key-variables">Step 2.5: Standardize &amp; Normalize Key Variables</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#interpreting-our-transformed-data">Interpreting Our Transformed Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-each-column-is">What each column is</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-we-do-this">Why we do this</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-6-record-your-cleaning-steps">Step 2.6: Record Your Cleaning Steps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps-continue-in-r-or-switch-to-python">Next Steps: Continue in R or Switch to Python</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By An Introduction for IDA Staff
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>